pacpackage cadastro;

import java.util.ArrayList;

import basicas.Produto;

public class Carrinho {


	private ArrayList<ItemPedido> carrinho = new ArrayList<ItemPedido>();


	private int totalPedido=0;
	private double precoTotal=0;


	public void addItemPedido(Produto prod, int qtd) {
		if(totalPedido+qtd<10 && qtd > 0) {

			boolean encontrou=false;


			for (ItemPedido pedido : carrinho) {
				if(pedido.getProduto().equals(prod)) {
					encontrou=true;
					pedido.setQtd(pedido.getQtd()+qtd);
					System.out.println("Quantidade do item alterada!!");

					break;

				}
			}

			if(!encontrou) {
				carrinho.add(new ItemPedido(prod,qtd));
				System.out.println("Item adicionado ao carrinho com sucesso!!");
			}
			totalPedido+=qtd;
		}else if(totalPedido+qtd> 10) {	

			System.out.println("...:::Nao e possivel comprar mais de 10 produtos:::...");
		}
		recalcularPreco();
	}


	public void recalcularPreco() {
		this.precoTotal=0;

		for (ItemPedido itemPedido : carrinho) {
			double precoItem= itemPedido.getQtd()*itemPedido.getProduto().getPreco();
			itemPedido.setPrecoItem(precoItem);
			precoTotal+=precoItem;

		}

	}


	public int getTotalPedido() {
		return totalPedido;
	}


	public ArrayList<ItemPedido> getCarrinho() {
		return carrinho;
	}


	public double getPrecoTotal() {
		return precoTotal;
	}


	public void setPrecoTotal(double precoTotal) {
		this.precoTotal = precoTotal;
	}


}

